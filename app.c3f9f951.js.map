{"version":3,"sources":["js/app.js"],"names":["galleryItems","preview","original","description","refs","galleryEl","document","querySelector","imgEl","modalEl","closeBtnEl","textContent","activeImg","imgLength","length","addEventListener","onImgClick","onCloseButtonClick","onKeyPress","e","preventDefault","target","nodeName","classList","add","dataset","index","getData","remove","updateAttr","key","getNextPicture","getPrevPicture","d","src","alt","galleryMarkup","createGalleryMarkupStr","insertAdjacentHTML","images","map","join"],"mappings":"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","file":"app.c3f9f951.js","sourceRoot":"../src","sourcesContent":["const galleryItems = [\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg\",\n    description: \"Hokkaido Flower\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg\",\n    description: \"Container Haulage Freight\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg\",\n    description: \"Aerial Beach View\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg\",\n    description: \"Flower Blooms\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg\",\n    description: \"Alpine Mountains\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg\",\n    description: \"Mountain Lake Sailing\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg\",\n    description: \"Alpine Spring Meadows\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg\",\n    description: \"Nature Landscape\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg\",\n    description: \"Lighthouse Coast Sea\",\n  },\n];\n\nconst refs = {\n  galleryEl: document.querySelector(\".gallery\"),\n  imgEl: document.querySelector(\"img\"),\n  modalEl: document.querySelector(\".lightbox\"),\n  closeBtnEl: document.querySelector('[data-action=\"close-lightbox\"]'),\n};\n\nrefs.closeBtnEl.textContent = \"X\";\nlet activeImg = 0;\nconst imgLength = galleryItems.length - 1;\n\nrefs.galleryEl.addEventListener(\"click\", onImgClick);\nrefs.closeBtnEl.addEventListener(\"click\", onCloseButtonClick);\ndocument.addEventListener(\"keydown\", onKeyPress);\n\nfunction onImgClick(e) {\n  e.preventDefault();\n  if (e.target.nodeName !== \"IMG\") return false;\n  refs.modalEl.classList.add(\"is-open\");\n  activeImg = +e.target.dataset.index;\n  getData(activeImg);\n}\n\nfunction onCloseButtonClick(e) {\n  refs.modalEl.classList.remove(\"is-open\");\n  updateAttr();\n}\n\nfunction onKeyPress(e) {\n  if (e.key === \"Escape\") return onCloseButtonClick();\n  if (e.key === \"ArrowRight\") return getNextPicture();\n  if (e.key === \"ArrowLeft\") return getPrevPicture();\n}\n\nfunction getNextPicture() {\n  activeImg += 1;\n  if (activeImg > imgLength) activeImg = 0;\n  getData(activeImg);\n}\n\nfunction getPrevPicture() {\n  activeImg -= 1;\n  if (activeImg < 0) activeImg = imgLength;\n  getData(activeImg);\n}\n\nfunction getData(index) {\n  const d = galleryItems[index];\n  updateAttr(d.original, d.description);\n}\n\nfunction updateAttr(src = \"\", alt = \"\") {\n  refs.imgEl.src = src;\n  refs.imgEl.alt = alt;\n}\n\nconst galleryMarkup = createGalleryMarkupStr(galleryItems);\n\nrefs.galleryEl.insertAdjacentHTML(\"beforeend\", galleryMarkup);\n\nfunction createGalleryMarkupStr(images) {\n  return images\n    .map(({ preview, original, description }, index) => {\n      return `<li class=\"gallery__item\"><a class=\"gallery__link\" href=\"${original}\"><img class=\"gallery__image\" src=\"${preview}\" data-index=\"${index}\" data-source=\"${original}\" alt=\"${description}\"></a></li>`;\n    })\n    .join(\"\");\n}\n"]}