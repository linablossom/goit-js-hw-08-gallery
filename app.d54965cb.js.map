{"version":3,"sources":["js/app.js"],"names":["galleryItems","preview","original","description","refs","galleryEl","document","querySelector","imgEl","modalEl","closeBtnEl","textContent","activeImg","imgLength","length","onImgClick","e","preventDefault","target","nodeName","classList","add","getData","dataset","index","onCloseButtonClick","remove","updateAttr","onKeyPress","key","getNextPicture","getPrevPicture","d","src","alt","addEventListener","galleryMarkup","createGalleryMarkupStr","images","map","join","insertAdjacentHTML"],"mappings":";AAAA,IAAMA,EAAe,CACnB,CACEC,QACE,uFACFC,SACE,uFACFC,YAAa,mBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,6BAEf,CACEF,QACE,wEACFC,SACE,wEACFC,YAAa,qBAEf,CACEF,QACE,0EACFC,SACE,0EACFC,YAAa,iBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,yBAEf,CACEF,QACE,2EACFC,SACE,2EACFC,YAAa,yBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,6EACFC,SACE,6EACFC,YAAa,yBAIXC,EAAO,CACXC,UAAWC,SAASC,cAAc,YAClCC,MAAOF,SAASC,cAAc,OAC9BE,QAASH,SAASC,cAAc,aAChCG,WAAYJ,SAASC,cAAc,mCAGrCH,EAAKM,WAAWC,YAAc,IAC9B,IAAIC,EAAY,EACVC,EAAYb,EAAac,OAAS,EAMxC,SAASC,EAAWC,GAEdA,GADJA,EAAEC,iBACwB,QAAtBD,EAAEE,OAAOC,SAAoB,OAAO,EACxCf,EAAKK,QAAQW,UAAUC,IAAI,WAE3BC,EADAV,GAAaI,EAAEE,OAAOK,QAAQC,OAIhC,SAASC,EAAmBT,GAC1BZ,EAAKK,QAAQW,UAAUM,OAAO,WAC9BC,IAGF,SAASC,EAAWZ,GACdA,MAAU,WAAVA,EAAEa,IAAyBJ,IACjB,eAAVT,EAAEa,IAA6BC,IACrB,cAAVd,EAAEa,IAA4BE,SAA9Bf,EAGN,SAASc,KACPlB,GAAa,GACGC,IAAWD,EAAY,GACvCU,EAAQV,GAGV,SAASmB,KACPnB,GAAa,GACG,IAAGA,EAAYC,GAC/BS,EAAQV,GAGV,SAASU,EAAQE,GACTQ,IAAAA,EAAIhC,EAAawB,GACvBG,EAAWK,EAAE9B,SAAU8B,EAAE7B,aAG3B,SAASwB,IAAWM,IAAAA,EAAM,UAAA,OAAA,QAAA,IAAA,UAAA,GAAA,UAAA,GAAA,GAAIC,EAAM,UAAA,OAAA,QAAA,IAAA,UAAA,GAAA,UAAA,GAAA,GAClC9B,EAAKI,MAAMyB,IAAMA,EACjB7B,EAAKI,MAAM0B,IAAMA,EA1CnB9B,EAAKC,UAAU8B,iBAAiB,QAASpB,GACzCX,EAAKM,WAAWyB,iBAAiB,QAASV,GAC1CnB,SAAS6B,iBAAiB,UAAWP,GA2CrC,IAAMQ,EAAgBC,EAAuBrC,GAI7C,SAASqC,EAAuBC,GACvBA,OAAAA,EACJC,IAAI,SAAqCf,EAAAA,GAAlCvB,IAAAA,EAAAA,EAAAA,QAASC,EAAAA,EAAAA,SAAUC,EAAAA,EAAAA,YAC0CD,MAAAA,4DAAAA,OAAAA,EAA8CD,uCAAAA,OAAAA,EAAwBuB,kBAAAA,OAAAA,EAAuBtB,mBAAAA,OAAAA,EAAkBC,WAAAA,OAAAA,EAAlL,iBAEDqC,KAAK,IAPVpC,EAAKC,UAAUoC,mBAAmB,YAAaL","file":"app.d54965cb.js","sourceRoot":"../src","sourcesContent":["const galleryItems = [\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg\",\n    description: \"Hokkaido Flower\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg\",\n    description: \"Container Haulage Freight\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg\",\n    description: \"Aerial Beach View\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg\",\n    description: \"Flower Blooms\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg\",\n    description: \"Alpine Mountains\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg\",\n    description: \"Mountain Lake Sailing\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg\",\n    description: \"Alpine Spring Meadows\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg\",\n    description: \"Nature Landscape\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg\",\n    description: \"Lighthouse Coast Sea\",\n  },\n];\n\nconst refs = {\n  galleryEl: document.querySelector(\".gallery\"),\n  imgEl: document.querySelector(\"img\"),\n  modalEl: document.querySelector(\".lightbox\"),\n  closeBtnEl: document.querySelector('[data-action=\"close-lightbox\"]'),\n};\n\nrefs.closeBtnEl.textContent = \"X\";\nlet activeImg = 0;\nconst imgLength = galleryItems.length - 1;\n\nrefs.galleryEl.addEventListener(\"click\", onImgClick);\nrefs.closeBtnEl.addEventListener(\"click\", onCloseButtonClick);\ndocument.addEventListener(\"keydown\", onKeyPress);\n\nfunction onImgClick(e) {\n  e.preventDefault();\n  if (e.target.nodeName !== \"IMG\") return false;\n  refs.modalEl.classList.add(\"is-open\");\n  activeImg = +e.target.dataset.index;\n  getData(activeImg);\n}\n\nfunction onCloseButtonClick(e) {\n  refs.modalEl.classList.remove(\"is-open\");\n  updateAttr();\n}\n\nfunction onKeyPress(e) {\n  if (e.key === \"Escape\") return onCloseButtonClick();\n  if (e.key === \"ArrowRight\") return getNextPicture();\n  if (e.key === \"ArrowLeft\") return getPrevPicture();\n}\n\nfunction getNextPicture() {\n  activeImg += 1;\n  if (activeImg > imgLength) activeImg = 0;\n  getData(activeImg);\n}\n\nfunction getPrevPicture() {\n  activeImg -= 1;\n  if (activeImg < 0) activeImg = imgLength;\n  getData(activeImg);\n}\n\nfunction getData(index) {\n  const d = galleryItems[index];\n  updateAttr(d.original, d.description);\n}\n\nfunction updateAttr(src = \"\", alt = \"\") {\n  refs.imgEl.src = src;\n  refs.imgEl.alt = alt;\n}\n\nconst galleryMarkup = createGalleryMarkupStr(galleryItems);\n\nrefs.galleryEl.insertAdjacentHTML(\"beforeend\", galleryMarkup);\n\nfunction createGalleryMarkupStr(images) {\n  return images\n    .map(({ preview, original, description }, index) => {\n      return `<li class=\"gallery__item\"><a class=\"gallery__link\" href=\"${original}\"><img class=\"gallery__image\" src=\"${preview}\" data-index=\"${index}\" data-source=\"${original}\" alt=\"${description}\"></a></li>`;\n    })\n    .join(\"\");\n}\n"]}